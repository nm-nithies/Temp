Task - 3/7/2024
Nithies:
Checked stash_type, the model input and internal computations already use float32, and the default value stash_type=1 also corresponds to float32. So, explicitly setting it doesn't provide any gain in numerical precision in this case.
 
Explored rotary positional embeddings and the positional encoding patterns used in LLaMA2 and LLaMA3. Since this operation is available in opset 23, we can proceed with adding support for rotary positional embeddings and validate it once runtime support becomes available.
 
Started working on adding support for 1D scalar values in replace_input_with_constant, as mentioned in the JIRA ticket.

Nithies:
For now updated the scalar value to broadcast the full input shape in  replace_input_with_constant branch
Resolved the MR comments.
 
For RmsNormalization task, still opset23 is not supported by the onnxruntime  latest version.
 
For GroupNormalization task, Tom had given some suggestions, yet to recheck the part.

I analyzed GroupNormalization and observed that this pattern can be fused into GroupNormalization. However, the large maximum difference seems to be caused by the subsequent Mul layers, which amplify the minor diff (originally around 0.0001) into a significantly larger diff.


Nithies
Pointpillar :
cleaned the replaceScatternd pass
MR - https://gitsnps.internal.synopsys.com/dwc_ev/nnsdk/nnac/-/merge_requests/1081
 
Replace_input_with_costant:
Resolved MR commentals. Pushed the code.
MR - https://gitsnps.internal.synopsys.com/dwc_ev/nnsdk/nnac/-/merge_requests/1066
 
FuseGroupNormalization :
Stared working on FuseGroupNormalization task




Task - 27/6/2024
Nithies
Pointpillar :
Updated the ReplaceScatterND(pattern4) succefully.
Upadetd the pass to also support Bev_simplified model as well
MR -  https://gitsnps.internal.synopsys.com/dwc_ev/nnsdk/nnac/-/merge_requests/1081
 
Replace_input_with_costant:
Pushed the code. 
MR - https://gitsnps.internal.synopsys.com/dwc_ev/nnsdk/nnac/-/merge_requests/1066
