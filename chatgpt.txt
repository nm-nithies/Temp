    Conditions:
      - data_shape must have a dimension of size equal to its rank (i.e., len(data_shape)),
        which is used as the fixed update dimension.
      - indices must be a 4D tensor with the last dimension equal to len(data_shape).
      - updates_shape must match data_shape, except dimensions where updates has size 1.
      - Batch size (first dimension) must match across indices, updates, and data.
      - All index values along the fixed dimension in indices must be the same.

    Returns:
        True if valid for replacement, else False.
    """
